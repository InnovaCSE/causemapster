name: ğŸ”§ Build CauseMapster Workflow

on:
  workflow_dispatch:

jobs:
  build:
    name: ğŸ› ï¸ Construction automatique de CauseMapster
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“¥ RÃ©cupÃ©rer le dÃ©pÃ´t
        uses: actions/checkout@v3

      - name: ğŸ§° Installer les dÃ©pendances Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 20

      - name: ğŸ“¦ Installer les packages
        run: npm install

      - name: âœ… Lancer les tests automatiques (si prÃ©sents)
        run: npm run test || echo "Aucun test dÃ©fini"

      - name: ğŸ› ï¸ Compiler l'application
        run: npm run build || echo "Pas de script build dÃ©fini"

      - name: ğŸ“¤ Confirmer rÃ©ussite dans les logs
        run: echo "âœ… Construction automatique terminÃ©e avec succÃ¨s"

      # ğŸ”” Mail de notification (facultatif, Ã  activer plus tard)
      # - name: ğŸ“§ Envoyer un mail de confirmation
      #   uses: dawidd6/action-send-mail@v3
      #   with:
      #     server_address: smtp.gmail.com
      #     server_port: 465
      #     username: ${{ secrets.EMAIL_USERNAME }}
      #     password: ${{ secrets.EMAIL_PASSWORD }}
      #     subject: "âœ… Build terminÃ© pour CauseMapster"
      #     to: yoann@innovacse.fr
      #     from: "CauseMapster Builder <yoann@innovacse.fr>"
      #     body: "La construction du projet CauseMapster s'est dÃ©roulÃ©e avec succÃ¨s."
